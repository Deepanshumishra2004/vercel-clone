FROM ubuntu:focal

RUN apt-get update && \
    apt-get install -y curl git && \
    curl -fsSL https://deb.nodesource.com/setup_lts.x | bash - && \
    apt-get install -y nodejs

WORKDIR /home/app

COPY main.sh .
COPY package.json .
COPY index.js .
COPY kafka.pem .

RUN chmod +x main.sh
RUN chmod +x index.js

ENTRYPOINT [ "./main.sh" ]